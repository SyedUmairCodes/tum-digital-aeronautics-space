# Civil aviation markets
Hello, my name is Thomas Pany. I'm Professor for satellite navigation at the Bundeswehr University in Neubiberg, near Munich. In this lecture, I want to show you a very specific way of digitization in aeronautics and space. And we will try to understand how satellite navigation as a flexible navigational method will gradually replace classical analog methods, and how this will affect the future of civil aviation. We will also include the discussion on upcoming challenges. Coming from the air mobility concept which includes things like air taxis and drones. For this purpose, we first consider how the aviation market is structured, and which current navigation problems need to be solved.
Play video starting at ::56 and follow transcript0:56
This topic will be discussed in the light of the classical solutions for air navigation and modern approaches, which are summarized as performance-based navigation. Here, satellite navigation is the digital contribution to our navigation, and we have to understand how satellite navigation as a primary technology was developed and designed, and we need to understand why a direct use of this technology is not possible for safety critical application. Then we will introduce some methods to make GNSS or satellite navigation reliable and robust, and discussed in the current performance, and the way how this methodology will be implemented in future air traffic management. So let's come now to the first chapter of this lecture. Like the other chapter, it's more or less ten to 50 minutes long, and ends with a few simple questions, which would allow you to help to check if you understand the content correctly or not. Of course, if you think that you didn't really understand the content, you are free to rehear this chapter. In this chapter, I describe the size of the civil aviation market, and I want to make a point that civil aviation is really safe. And it also has to be very efficient in order to ensure short flight times or to reduce the fuel consumption, and also other challenges to provide an even higher capacity in this navigation technology.
Play video starting at :2:29 and follow transcript2:29
Civil aviation is really safe.
Play video starting at :2:32 and follow transcript2:32
Having for example a look at the year 2017, which was so far the safest year in civil aviation. I would like to let you know that in that year, 3.7 billions of passengers have been transported. I'm now writing this number down. So we had in the year 2017, 3.7 billions passengers.
Play video starting at :3: and follow transcript3:00
And to further illustrate this number, you should know that the average flight duration is around two hours. So within one day, 12 average flights can be conducted. If you multiply this number by the number of days per year, you end up with a figure of 4,380 flights per year of a duration of two hours, and dividing then, these are 3.7 billions of passengers by this 4,380 flights. We conclude that an impressive number of 1 million of passengers is really constantly in the air.
Play video starting at :3:50 and follow transcript3:50
So the year 2017 was really a safe year. So we had only one major accident of a commercial aircraft, and this accident caused a number of 67 fatalities. Of them, 32 were on board the aircraft, and 35 were on the ground where the aircraft crashed. This accident is of course sadly enough, but contrasting this again to the number of 1 billion people which are constantly in the air and the duration of one year, I think you get the good impression how safe aviation really is. Coming now to the market of civil aviation. So aviation is not only safe, but also the market which is affected by civil aviation is huge.
Play video starting at :4:37 and follow transcript4:37
We have reported figures here that in the year 2012, the contribution to the global gross domestic product of civil aviation was around $2.4 trillion, and the value of goods transported by civil aviation in that year was around $6.4 trillion. So that's really a huge number, and it also makes clear that any improvement in the regulations and also in the navigation system which is used by civil aviation, will finally result in a very large absolute value of economic benefit for our society.
Play video starting at :5:23 and follow transcript5:23
Also the growth of the civil aviation markets needs to be discussed.
Play video starting at :5:27 and follow transcript5:27
And easy performance figure to evaluate the growth of the civil aviation market, is to simply count the number of instrument flights which are conducted in a certain region. So in this graph here, you see the number of instruments flights conducted in Europe, and this number is collected by public authorities and made then available. We see here that in the year 1960, we had around 1.5 millions of flights. And then the year 2009, we had then maximum numbers of around 10 million flights. So there was really a constant increase in this market, and also the financial crisis which occurred in 2009 had a slight impact on the number of flights. But as you can see, it could not really stop and the number of flights is increasing again. Also, the other global recessions which occurred after 1970, there were three of them, could not really have a large impact on this trend. And some people even say that civil aviation is a very important mean to recover from a global recession, and to help to restart the global economy. Also the number of flights or expressed as the air traffic routes, which are used by the airplanes is a good figure to illustrate the growth of this market. So in this figure, you see here air traffic routes which are used by many airplanes. So from 2,000 to 40,000 per year as a red line, and routes which are less often used as blue lines. And there are predictions from international organizations how these routes develop over the years, and in 2020 we may have a figure like this, and in 2030 we will see a figure like this. This is again showing how this market is continuously growing, and
Play video starting at :7:36 and follow transcript7:36
this is also to be considered contrasting to the fact that we are really facing a lack of natural resources of oil. And also there's a discussion on the climate warming going on, but we have to note that all those points don't really have to have a serious impact on this market. I would like now, come to another aspect of air traffic, which is its vulnerability.
Play video starting at :8:6 and follow transcript8:06
We see very often or experience by ourselves events where flights are delayed or even flights are cancelled, and often don't understand why this is happening. And one reason for that is that our infrastructure, which is supporting this vast number of flights, is not really well maintained, and it's coming now to its capacity limits. For example, here you see a newspaper message of an blocked airport named Innsbruck in Austria, and this airport you have to know that it's still surrounded by mountains. So the classic methods of the landing procedure, the instrument landing system cannot be installed, and the new method, the satellite navigation methods are still not so well developed that they can be used. So this airport is quite sensitive and if fog is there, then the airport is closed, and on that day 2,500 passengers had to wait for their flights, and incoming flights were redirected to Munich. This on itself is quite a dramatic situation. But furthermore, this event spreads then out into the whole air traffic system, and also other flights which are relying on the airplanes which should have arrived at Innsbruck, are also delayed or even cancelled. And this is simply because of the fact that there are nearly no any free slots on the air routes and on the landing approaches, and therefore a simple event like this spreads out and often it takes days until recover from that.
Play video starting at :9:47 and follow transcript9:47
For example, it is quite interesting to know in the year 2018, we had around 30,000 flights from, to, or within Germany, which have been cancelled or had a delay of over three hours. So that's quite an impressive number, and also the route between Munich and DÃ¼sseldorf, had 320 flights which had been cancelled.
Play video starting at :10:12 and follow transcript10:12
The airplanes have to compensate the passengers for these delays, and in 2018 we had 800 millions of compensation payments, and in 2007 and it was 500 million Euros. So that's also a pretty impressive number, and if we can reduce even these compensation payments, it's worthwhile to do research in this area.
Play video starting at :10:36 and follow transcript10:36
There are also other aspects of air navigation which need to be improved, and they are shown in this graphic here. So we want to reduce also the cost efficiency of the air navigation means by 40%. Coming again to the capacity problem, we want to improve the capacity by around 100%. Also the environment is considered by this research program, and carbon dioxide reduction is targeted to be reduced by 10%, and also the operation efficiency targets a reduction of 6% in flight time, and 10% in fuel beyond reduction. All this research is carried out in Europe in the so-called SESAR program, which means a Single European Sky ATM Research, and ATM stands for air traffic management. As if there were not already enough sentence for the classic civil aviation, I would like now come to this new concept of air traffic, which is this air mobility concept. You can see here on the left side an artist impression of how our airspace may look in future, and you see here drones, air taxis, and also helicopters flying around.
Play video starting at :11:55 and follow transcript11:55
And all this air traffic has to be as safe as the well-known civil aviation conducted in the long-term air. So we have to apply the same safety standards, but have much less flexibility installing classic air navigation means. And for this concept, this urban air mobility concept, satellite navigation as the digital method of navigation. It's the only means which we can think of, which could support this new air mobility concept. So and with this, the first chapter comes to an end, and I hope I made it clear that air navigation market requires a really safe means of navigation, and also that it's quite huge. Feel free now to have a look at these questions and to answer them with the material presented in this first chapter, and you should have enough information also to do this simple calculation in the first question. [MUSIC]

# Classical and Performance Based Navigation

Let's come now to the second chapter of this lecture. I want to show you now how the classic methods of navigation work. I call them analogue methods, and how a new concept called performance-based navigation, which is the digital methods started already to revolutionize navigation. Positioning and navigation was always of a very central importance to aviation. In fact, in the early days of aviation, the onboard team always on the airplane, always included a navigator who operated a number of sensors and instruments and also some calculation machines, you could not really call them computers at that time, to determine the position of the airplane. You can see on this image how a navigator's workplace looked like in those early days. Navigation methods defined in these early days were of particular simple technical realization, but they were very robust and also simple to use. Due to the long lifetime of an airplane, so a civil aviation commercial airplane is used for about 30 years. This innovation cycle is very slow and all these classic methods of air navigation are still in use, and I want to show now a few of them that you have a better understanding of what I'm talking. So the very first mean of an analog navigation method was the so-called non-directional beacons. This are simple transmitters which are located on the Earth and which are marked in the air traffic charts and they transmitted a signal and the airplane was basically able to find the direction to this transmitter to orient itself towards the transmitter and then fly directly towards it. It did not really know how far it is away from this transmitter, but once it passed over it, it realized that the direction changes by a 180 degrees and then the transmitter has been passed. In the air navigation then more or less looked like that. So now, I'm now depicting here a runway and then we have here a few NDBs,
Play video starting at :2:47 and follow transcript2:47
then the aircraft lifted off here at this runway, flies towards this first transmitter, realizes that it passes over, it then selects the next transmitter and so on. The last NDB is expected to be located directly in an extension to the runway. From that point, the pilot should be able to see the runway and then safely descent and end its journey.
Play video starting at :3:22 and follow transcript3:22
Another analog method of classic air navigation are the so-called VORs. VOR means are very high frequency, VHF omnidirectional radio. They are some extended NDB where the transmitters emit the rays along all possible directions. These rays, I call them radials now. So if I depict here now in VOR station, then the pilot is basically able to choose one radial or from this VOR station and I draw this now here.
Play video starting at :4:9 and follow transcript4:09
This radial has a certain angle to the North direction. This is maybe the North direction, we have an angle Phi.
Play video starting at :4:22 and follow transcript4:22
There might be a second VOR, which is located here, which with maybe a different radial and the third one which is located here.
Play video starting at :4:38 and follow transcript4:38
You can already see that these radius they define a real route now and I'm trying to present how the airplane is now flying along this route. So the airplane may, for example, come from this direction here, fly along this radial and then it sees that the second radial approaches, and then it switches to this radial, sees that the third radial approaches and then can switch to this one. So we already have here real air traffic road and airplanes are now able to use it. Also the instrument landing system, which is basically the main means of how to control the approach to the runway, follows a similar principle as the VOR system. So we have again here the runway and at the beginning of the runway, you see here this antenna systems which are installed and they basically emit a certain ray from the end of the runway at a certain slope. There are also free markers, the inner, middle, and outer marker
Play video starting at :6:24 and follow transcript6:24
and the airplane approaches then this disk-like path. This instrument landing glide path from, let's say a real [inaudible] navigation follows then this glide path and until it has the touchdown on the run on the runway. This is a very simple and robust landing system. You can see the antennas are pretty big, so it's quite difficult to jam or disturb the system. But a major bottleneck of this analog technique is that the glide path is totally unflexible. So it has a certain slope and you cannot fly any curved approaches or even change the slope and furthermore, if one airplane is already on the glide path, then the electric signal is affected by the body of the airplane and the second airplane, which would be behind the first one, would not receive the correct signal anymore. So as a consequence, only one airplane must be on this glide path at anytime. That's a serious limitation in the airport capacity and I'm pretty sure you have already experienced that when the pilot tells you that you don't have a slot to approach this airport and that the limited capacity of the ILS might then be the reason for that.
Play video starting at :7:52 and follow transcript7:52
Although all these classic methods of air navigation have then been organized in so-called flight charts, and those flight chart originated from the idea that all air routes are oriented along certain physical installation. You can see here these UI installations or NDP installations, and only a very limited number of routes was the consequence. As a positive side effect, this made the air traffic management quite easy because the air traffic controller knews that the airplanes are only allowed to fly it along these air traffic routes. If there was a deviation, it could be easily detected and then the pilot could be informed to come back to it's route. Already, today, we have here the digital method, the satellite navigation method being used for this purpose. The satellite navigation impact on the flight chart is some manifests itself as so-called waypoints. Waypoints are also depicted here in this flight chart. You can see one example here. They are virtual markers. They have a fixed location. They even have names, but there's no physical infrastructure associated with them. But in this overall context, they are used like NDBs, and help to already get the air traffic system more flexible and to have more capacity. So overall, we have let's say in the very past, the historic method of air navigation, where we could only fly from or to the beacons. Today, we have already a more flexible concept which is called area navigation or RNAV, where we are able to have a free choice of waypoints as we can freely select the waypoints we want to use for our travel. But in future, we will even go beyond that. Then, we expect that the air traffic controller will define for our flight a dynamically allocated 3D or even 4D route which we need to follow. The advantage of these 4D routes is that they can be really optimized for the actual weather condition, or the traffic condition, and by far much more flexible, and provide by far a much more higher capacity than these classical air navigation methods. The theoretical concept behind this flexibility in the air navigation is called performance based navigation. This concept was a revolution in air navigation, because in the early days, navigation was really performed as a description of what the pilot has to do in order to safely arrive to the airport. So basically, it was by rule, I fly to this NDP, then look for this viewer R then fly to the next NDP. At some point, you expected to arrive at the airport. So the pilot had simply to follow this rule, he did not really even have to know where he is, but the rules were safely defined and brought the airplane safely to the destination. Now to introduce a new technological concept, we have to step back from this procedure based navigation. The concept behind this, that we have to separate the navigation itself from it's technical realization. So we have to specify now the navigation performance not as a set of rules, but we have to specify now the accuracy, integrity, availability, and continuity values, which describe, in a more abstract way, how the navigation has to be performed. Yes, of course always a technical idea behind this concept, although from it's very basic idea it's technology independent. The key technology which is expected to realize this performance based navigation is satellite navigation. Many of you may have heard that satellite navigation is not totally robust and we are relying here on the space infrastructure, which has the potential to fail if, for example, let's say a major earthquake occurs at the control center of the satellite navigation system. Then, for this purpose, we need a backup solution. This backup solution will not provide the full capacity a satellite navigation provides, but should at least allow us to,
Play video starting at :13:4 and follow transcript13:04
let's say, very important flights or at least bring all flights which are in the air safely back to the ground. The technology for this a backup system is the so-called distant measurement equipment, but I will not further discuss this here in this lecture. You realize, if you read a text, that one speaks of performance-based navigation if you encounter terms like RNAV or RNP. This RNAV acronym defines already an accuracy which is associated with this navigation method. RNAV, let's say, one means that the 95 percent accuracy of this method is one nautical mile. RNP in contrast has the same notation for the accuracy, but also means that an assured integrity and continuity is used for this navigation method. Another nice example to show this performance based navigation in contrast to the classic navigation is also the more detailed, look at an approach procedure. In this picture here, you see a classical approach and a newer approach with the performance based navigation. So the red line here is the classic approach. You see that the airplane flying along the red line, it flies from one NDP to the next one, and it also has to maintain a certain flight level. So it has to maintain a constant height for a certain period of time so that the slope of the trajectory change is not constant. Finally, we see that the classic approach has a very low height near the airport, and the airplane is, flying for a long time directly over the ground, which causes a high noise for the people, living near the airport. With the new concept, the performance based navigation, we are much more flexible, and we not only can maintain a constant slope, which helps us to save some fuel. The slope can also be steeper. We are thus approaching the airport at a steeper level and meaning that we create less noise for the people living near the airport.
Play video starting at :15:34 and follow transcript15:34
How do we quantify navigation? So these performance-based navigation has to get a little bit more technical in order to better understand it. There are four key quantities or performance key indicators, which are accuracy, integrity, availability, and continuity. As an engineer which you are probably are, you should have some awareness of how these terms are defined. So as many of you already assume the accuracy is the typical difference between the true and the estimated position. For example, if I give an accuracy value for a meter, this means that the typical difference between the true and the estimated position is four meter,. Now I also have to specify what typical means. This is usually done by giving a percentage value, let's say we take now here 95 percent. This 95 percent means that in 95 percent of all cases, this difference is below four meter and in five this difference is above this four meter value. If you increase this percentage to maybe 99.99 percent, then also the associated accuracy value increase maybe to 40 meters, but this is still the same accuracy, just the associated probability level is different. The next very important figure is the so-called integrity figure. The integrity is the probability that the navigation system is working as expected and providing a positioning solution with an error smaller than a so-called protection level which is a slightly different accuracy figure. This integrity is given as a rate value, because the longer you operate the system, the more likely it is that it will fail. So typical integrity values for aviation then 1 minus 10 to the power of minus seven per hour. This means that the navigation system is allowed to fail one time in 10 million hours. So this is accepted because it's also clear that you never ever can build a technical system which is free of any failure. Availability, the third one is more easily explained, it's the percentage of time that your navigation system can be used at a given place or along a given air route. Here we target generally an availability of 100 percent but this is also not reached due to this intrinsic imperfection in every technical systems. But typically, availability values are then let's say at the 99.5 percent level. Finally, continuity is the probability that the system remains available after it declared it's availability at the beginning of a certain operation. That's very important for an approach. When the pilot checks at the beginning of the approach that the satellite navigation system is available, it expects the systems to remain available until the runway is reached. So the continuity and also given as a probability value maybe here 1 to the power 10 to the minus 5 but maybe not power one now, maybe power 150 seconds assuming that our approach procedure lasts for 150 seconds. So this ends the second chapter. I hope I could explain what performance-base navigation is and what parameters are used to describe these procedures in a more technical way.

# Satellite Navigation (GNSS): A Solution for everything?
In this third chapter, we now have to learn what is the technology behind this new digital method of navigation and that satellite navigation. Satellite navigation was created for a completely different purpose ,and we have to understand now the design paradigms which were used and why this approach was not really an ideal match for aviation application. Navigation was always of central importance to our society and also to the military. In the times of the cold war, the Russian launched Sputnik satellite in the year 1957, and the satellite broadcasts a very simple radio signal at 20 megahertz, which was received by researchers all over the world. A group in the US process that signal and realized by simply observing the Doppler shift, which is caused by the motion of the satellite. They were able to determine the orbit of this Sputnik satellite. In a second step, one year later in the year 1958, they were able to invert this process, and for an unknown user position, and assuming that this user also observe this as a Doppler shift of the Sputnik satellite, and knowing the orbit of the Sputnik satellite in advance, they were able to show that they could locate this unknown user with a certain accuracy. That really triggered the start of satellite navigation, and the US military then decided to build that transit system, which was, more or less, straightforward extension of this Sputnik navigation methodology of using multiple satellites. I don't want to go into very details, but the GPS system, which was built as a successor to the transit system, used slightly different principle behind, but was also targeting the military application from its design motivation, but also at the dual use by civil people always on mind. Just to cut the story short, also the Russian figured out that satellite navigation is a really important technology used for the military, and then they built a quite similar systems with a certain delay, which came operation in the 80's, and also provided the Russian military a good navigation capability.
Play video starting at :2:48 and follow transcript2:48
During the next decades in the 90's and after the year 2000, there was an immensive use of this technology also by civil users, and the whole technology sector exploded. Finally, also Europe and China decided to have their own satellite navigation system in orbit for independence in critical infrastructure, and also to develop their own markets and applications with some national control available. Today, satellite navigation can be found in billions of devices, and the most common use of satellite navigation is within a smart phone, and every modern smartphone is equipped with a satellite navigation receiver, or I call them in the following as a GNSS, Global Navigation Satellite Systems receiver. This receiver is able to receive the signals from all satellites and doesn't really distinguish if it's a GPS, GLONAS, Galileo, or BeiDou signal. When you switch on the receiver, then it takes only a few seconds, 2-3 seconds, until all the satellite signals are received and the position is then computed. So coming back to the aviation context, one may ask, why not these simple receivers built into the smartphone are used also for aviation because they are very performant, very fast time to fix and holds a reasonable precision on the level of a few meters, which would be, by far, more than sufficient to be used for many flight procedures. But again, I record that the design paradigm behind the development of the satellite navigation system was not used for safety critical applications like aviation, but was really to serve the military purpose and to provide a certain performance. So the systems are not really reliable on itself, and some additional methods have to be developed, which I would like to show that in the next lecture. But before we do that, we need to understand some technical principles when using satellite navigation. With this, I would like to come now to the math part of this lecture and show you to two important equations to make clear how this ranging principle in satellite navigation works. So satellite navigation or GNSS navigation, uses the passive one-way ranging principle, which is basically the art of comparing clocks and using this time difference to compute them to position. So I'm drawing now the Earth's surface, and assuming that the user is here on the ground with a certain antenna, and this user or the receiver has a clock built-in, which I denote here with his clock sign, and this clock is placed in a certain time, which is called TR, R stands for receiver, and this is the true time t, plus, the clock is not perfect, it has a certain clock error plus a value DTR.
Play video starting at :6:37 and follow transcript6:37
On the other hand, we have the satellites in the orbit. This should be a satellite. Also, the satellite has a built-in clock, which is quite precise. It's an atomic clock. But still, this clock has a certain era and it displays as a time value. The satellite time TS, which is the true time t, plus, the satellite clock error, dts.
Play video starting at :7:9 and follow transcript7:09
Then it took a lot of research by the Americans to figure out how this time value, which can be read by the satellite can be transmitted to the user. So they invented a certain signal, radio signal, which is broadcast, and travels from the satellite to the user, and the travel time of the signal is essential now for the further developments, and this travel time is denoted as Tau. So what the user then does, it basically compares the two clocks. So it reads its own clock, tr, and then subtracts the time reading from the satellite clock, so minus ts. Then it multiplies the whole expression by the speed of light c, and he calls this one as pseudorange P. Inserting now the definition of these time values, we realized that this can be rewritten as c multiplied by t minus t plus dtr minus the true time t. We are now at the satellite time. Now, we have to understand that the signal takes Tau seconds to come from the satellite to the user. This means the user sees the clock slightly in the past. So the time value, which he or she can read, is then t minus the travel time Tau, but also including the satellite clock arrow tts.
Play video starting at :9:1 and follow transcript9:01
In this equation, we can then cancel the true time t and end up with the speed of light multiplying the differences of the clock errors,
Play video starting at :9:22 and follow transcript9:22
plus, speed of light c multiplied by the travel time Tau. This expression c multiplied by Tau is modeled as the distance row. So that's the geometric distance between the user and the satellite. This is actually the quantity which we are interested in, but there are some delay values which are called tropospheric delay T and ionospheric delay I, and they are due to the fact that the signal has to propagate through the atmosphere, and the speed of light in the atmosphere is slightly slower than in vacuum, and this reduced travel speed causes this additional delay in this measurement. But overall, we have now found the description how we can model basically this time difference of these two clocks, and this can now be used for positioning. So this clock, readings are performed for all satellites which the user can receive. These are basically all the satellites which are above the horizon. I use the index i to denote the different satellite, and I'll assume that a number of N satellites can be received.
Play video starting at :10:58 and follow transcript10:58
The measured values of P_i are basically the input to the positioning method and our goal is to determine the use of position X_r, I recall this r stands for receiver, a receiver position. Also, we want to determine the receiver clock error, dt_r. Usually the receiver, the navigation receiver, has a very poor clock, quartz oscillator or something even more cheap, so we really don't know how wrong it goes and we have to estimate this from our measurements. So these are the unknown quantities.
Play video starting at :11:46 and follow transcript11:46
These are four unknown quantities by the way, three position parameters and one clock parameters. On the other hand, we have some known quantities. So these are the satellite positions, the satellite clock errors, the tropospheric delay, the ionospheric delay. I have now to explain how the satellite positions and the satellite clock errors are determined. So the satellite navigation system is operated from the ground, and this ground segment uses several monitor station distributed around the world which are constantly tracking the satellites. They are collecting data from the satellites and the so-called control center is then able to determine the position satellites and to formulate Kepler parameters are out of this position estimates and simultaneously, also the clock error, the satellite clock error is determined at the control segment. Those parameters are then predicted for an interval, for example, for over two hours. Those parameters are then uploaded to the satellite and then rebroadcast to the user. The user is able to decode these measures, and finally knows the satellite position and the satellite clock error. So I connect them now in that way. So these are all known quantities. A similar process also takes place for the tropospheric and ionospheric parameters, which are then also known to the user. Finally, there are also some imperfection in this process and the imperfections are summarized in this parameter epsilon. This is basically some noise which is added to this pseudorange measurement and this noise is caused on one side by the measurement process itself from reading these electric signal which contains the satellite clock reading, but also contains some imperfections in the orbit determination process in the satellite clock determination process and also the uncertainties in the tropospheric delay and ionospheric delay, all day, all those goes to the epsilon parameter and simply reflects our uncertainty in this whole process.
Play video starting at :14:28 and follow transcript14:28
With all those things set we can now start describing an algorithm, how we compute the position. So we have here, again, we have a number of n satellite measurements, meaning that we know these pseudorange is P_i, we know the satellite positions X_s, i, and the satellite clock errors
Play video starting at :15:3 and follow transcript15:03
as well as the tropospheric delays and the ionospheric delays. So these are all given values. To present now very simple method how to compute the position, but to do this I need to define a helper functions of when assumed user position X_r and assumed clock error dt_r. I'm defining now a model pseudorange which I call P snake, and this is a function of X_ r is a vector and the clock error dt_r and this basically the distance between the satellite and the user plus the clock error difference
Play video starting at :16:14 and follow transcript16:14
as the tropospheric delay and the ionospheric delay.
Play video starting at :16:25 and follow transcript16:25
So with this helper function I can now formulate my positioning problem as a minimization problem and my estimated position X_r head and my estimated user clock error dt_r head. So head means that's an estimated value is then the argument of a minimization problem over X_r and dt_r, where we minimize the sum over the difference between our actual observations P_i minus this modeled observation, the snake, which depend on X_r and dt_r. Here, we take the square in order that we have a real minimum.
Play video starting at :17:27 and follow transcript17:27
This minimization problem can be easily solved by using method of linear algebra. I don't want to go into details here. You also realize that you need then four or more observations as n needs to be equal or larger than four because we have here four unknowns and if you then more than four observations, you have an over-determined minimization problem and you will have then a unique solution to it.
Play video starting at :17:59 and follow transcript17:59
So with this I hope I could have shown to you what is the basic motivation behind the setup of the genius system and what is also the technical principal associated to it to read satellite clocks and how from that reading the position can be computed. Again, you'll find here are some questions which should help you to check if you got more or less the content of this lecture.

# Relying on GNSS?
In the last chapter, we learned how the positioning process works with satellite positioning, and that this process relies on the known satellite positions and the known values of the satellite clock error. In this fourth chapter, we get now an understanding on how reliable those values are and what errors or anomalies can occur. We will then develop some methods called RAIM or ARAIM which are then capable of handling failure in this process. I already mentioned that the process to determine the satellite position and the satellite clock error is a super complex, so we have here a system distributed all around the globe with monitor station, and the control center, collecting data in real-time, and then estimating the satellite positions and the satellite clock error. There are many things can go wrong. It took decades of the US engineers until they got the GPS system so robust that we today, don't really notice those errors, but they're still happening. Furthermore, the hardware on-board the satellite is also quite complex. There are atomic clocks operated on-board the satellite, and sometimes things simply go wrong there. This would not be an issue if the satellite clock goes wrong as long as the control segment detects this clock error, but since the value which is communicated to the users a prediction or for the next two hours, it takes for the user in the worst case two hours until he or she gets this updated correction, and during that time, he or she works with these incorrect value. If something like this happens, one speaks of a GPS anomaly. So we have here the case that we have for example, the clock anomaly when the satellite clock error, dts, i is wrong, or we have another case if there's anomaly if the satellite position, it says xs, i is determined in a wrong way. Then a group of researchers which are listed here on the lower right end of the slide, took data from 10 years of GPS operation and analyzed how well this orbit and clock determination process worked. So researchers analyzed 10 years of GPS data and present it in the study which is listed here on the lower right corner of the slide, what all went wrong with the GPS system. This data is here presented in this table. You see here, so there were many more incidents or anomalies, and this table summarizes the most important one since the year 2004 until the year 2010. You see here that the clock anomalies are reported with ephemeris anomalies. The error which was caused by this anomaly which expresses itself as an offset in the pseudorange measurement are read as small values of 10 or 30 meters up to medium wavelengths which are one kilometer. In this table, the maximum value is then 112 kilometer caused by a clock anomaly in the year 2007 of the GPS satellite 14. I hope I already made it clear if such an anomaly occurs, then this directly enters in the positioning process. Then also your user position will be wrong by 30 meter, one kilometer, or 100 kilometers. Coming all back to this aviation context, I think it's not really necessary to further explain that such an anomaly would have a catastrophic impact of your flight and causing incidents or accidents of all kinds. So GPS engineers improved the system over time. The number of incidents that occurred are listed here in this right graph now, starting from the year 2000 to the year 2010. At the beginning of this investigation in the year 2000, whereby the way GPS was already an operation for two decades, we still had 2,000 anomalies per year. This did go down, and so far the best year was the year 2008, where we had only one incident. Then the number of incidents to the year 2010 increased again to three. There is however a service commitment from the GPS system provider. Meaning that they commit themselves to have only three anomalies per year. So that is the value the GPS engineers think that they're able to provide, but again coming back to the aviation context, it is clear that you cannot tolerate three anomalies per year because then, three times a year on that day, we would have major problems in the civil aviation procedure. So we have to live with the fact that GPS is not working perfectly. GPS is still the most robust and reliable system, so the GLONASS system is by a factor of 10 less unreliable. For GLONASS, if reported cases where more or less the whole constellation fails, and for the European system, Galileo, and the Chinese system will do. They are simply not long enough in operation that we could provide those figures. So GPS engineers are doing a good job, but we have a way to cope with this unknown anomalies occurring in this process. The way to do this, is to look at the pseudorange residuals. This is basically; the residual is the measurement, P_i minus the modeled measurement, which I already introduced, evaluated at the estimated user position and use a clock error. This is the residual li. If the system works fine or satellites are in nominal operation, then we would expect that this residuals are quite low because the model fits then to the measurement. If anomaly happens, then we can also expect that our model will not really fit to this anomaly, and the residuals will be large. So we have here basically the case that if the system is, let's say okay, then the residuals will be small. If the system is bad, then the residuals will be large.
Play video starting at :8:6 and follow transcript8:06
That's now formalized with the so-called test-statistics, and it's the basis for the first method I want to introduce, and this method is called RAIM. RAIM means receiver autonomous integrity monitoring, and is a method which allows the navigation receiver to tell if the GNSS system is working as expected or if something strange happens here. So to realize this RAIM approach, the receiver computes every second based on the current measurement, the so-called test-statistics S which is the sum of the squared residuals.
Play video starting at :8:51 and follow transcript8:51
Compares then this test statistic against the third and threshold T. If the test statistic S is smaller than the threshold, then it declares that the system can be used, and on the other hand, if the test statistic is larger than this threshold, then the user or the pilot, or better speaking, the Flight Management System should not use the GNSS or GPS system.
Play video starting at :9:29 and follow transcript9:29
Since the whole measurement process has its measurement errors, and also these orbit and cocktail determination process has is modeling errors, we can never ever give a very precise distinction between those two cases, and both the cases have a certain stochastic behind, and this expresses itself as a certain distribution of the test statistics. So in this diagram, I draw now the number of occurrence of certain values of S. So on the x-axis, I have here the value S and on the y-axis, I have the number of how often this value occurs, then I will have basically two distributions. So in the case that the system is working okay, this distribution may look like this.
Play video starting at :10:38 and follow transcript10:38
This is okay. This is also called H_0 hypothesis, and on the other hand, the residuals are quite small, then the test statistic is always positive because it's the sum of squared numbers. Then we go to the other case when the system is bad, and bad means now
Play video starting at :11:7 and follow transcript11:07
a hypothesis H_1 meaning, a single satellite anomaly.
Play video starting at :11:19 and follow transcript11:19
In that case, under this hypothesis, we will have much large residuals, so the likelihood that we have for small residuals will be low. So we a few very unlikely to have a test statistic values here, and then when you go to the larger values, we will see that the distribution is centered here. So that's the hypothesis H_1. If we now define here the threshold T,
Play video starting at :11:54 and follow transcript11:54
we can then analyze the performance of this method as we have now four cases. So the system may be good or bad and we have a use or don't use flag, and we can map those then out in this diagram here. So we have here the good case, the okay case, and the bad case, and we have here the use flag output by the navigation receiver in theta, don't use flag. We have here then now two nominal cases. So the system is okay and the receiver also outputs that it should be used then, this is this case here, which is what we find. This is actually the case we want to have. Another case which can be tolerated, is the case when the GNSS system is working badly and we have one satellite with an anomaly, and also our receiver is able to detect this anomaly and tells us please do not use the navigation system. So that's that case. However, there are two other cases, and the one in the upper left corner is the case when the system is working correctly, but for some reasons, so we are here in this okay distribution. But for some reason due an unavoidable measurement errors, the test statistic is higher than the threshold, then we are in this region here which are dropped here and this is the called false alarm rate.
Play video starting at :13:41 and follow transcript13:41
In that case, the receiver tells you, please do not use the GPS system, but on the other hand, the system was working correctly, so that's not really a critical case, but at least forces the pilot to look for another navigation method. A really critical listed case, however, when the system is bad, so we have the satellite anomaly, but for some reasons, the measurement errors are in such a way that they combine in within the test statistics to a case which reduces the value of the test statistics, and in that case, we are in this region here, and that's the missed detection case.
Play video starting at :14:37 and follow transcript14:37
So that's still a very critical case, but by choosing the thresholds out properly, we can shift this missed detection rate to very very low values and such in a way that finally the values are so low that they can be accepted for this civil aviation purposes. Over all, we are now able to build a certain machinery where the navigation receiver receives the tuners as signal, and outputs the pseudo ranges to this ray machinery, the machinery gets also the satellite positions and satellite clock errors, as well as the tropospheric and ionospheric delay and outputs this. Use, don't use fleck. Of course, the estimated position, and also something which is very fancy and we'll explain this now as so-called protection level. What is the protection level now? So we have now this machinery to distinguish this threat and good case of the system. But there are some anomalies which are small, so small that they cannot be detected by this RAIM algorithm. So in other words, if the anomaly is pretty large, it's easy to detect. Then we have this don't use flag, but there's just the border when the anomaly is so large or so small that it just cannot be detected. Then the receiver outputs the use flag. But the position which the outputs is affected by this anomaly and high about this process can be controlled because these thresholds and the stochastic [inaudible] can be controlled. So this worst case which happens can be computed by the receiver and it is able then to output a value, the so-called protection labor which then limits the positioning area around the true position. So if I draw here now the true position, then the receiver outputs protection level value, which can be interpreted as a circle, if it's a horizontal protection value around the true position. Then we are sure that the estimated user position is somehow somewhere within this circle. This includes not only the good case of the GNSS system, but also the small bad cases. The RAIM methodology was developed for the GPS system. It's now already in operational use and in fact, every aviation receiver which uses GPS has to use RAIM. However, to also include now more GNSS systems a different method needed to be developed. Furthermore, this RAIM method was quite inflexible because it was only able, or it is only able to detect one satellite failure. But in principle, there are many more failure modes which you can think of, especially if you combine the multiple GNSS systems. That's basically the motivation behind ARAIM, which is an acronym and stands for Advanced RAIM. So with the basic difference to RAIM is that we consider now multiple hypothesis and you can think of many, many failure modes and for each failure mode you will define in this hypothesis. We start again with this nominal operation, it's zero, which is shown here. Assuming for example, that we have GPS Galileo operation then we may have then hypothesis for a single GPS satellite failure. Assuming we have ten visible GPS satellites, and we have 12 more hypothesis for a single Galileo satellite failure. Then we also may assume that the whole GPS constellation fails and also the Galileo constellation fails. The way ARAIM handles all these hypothesis is to do a different test statistics. So for example, considering one failure mode, which I consider now simply the failure mode seven. So what the receiver does is it basically computes in a first step, the combined position using all measurements from all satellite and this combined position is here shown as the value x or zero. If the system is good, if zero applies, then this combined position will be near to the true position. Then in a second step, the receive also computes a second position solution where it excludes the affected satellite. In that case, it excludes the seven GPS satellite. For another hypothesis is simply excludes those satellites which cause this failure mode. Then it computes the position difference between the combined solution and the solution with the excluded satellite and
Play video starting at :20:51 and follow transcript20:51
it is worthwhile to note that this position difference is accessible to the receiver. So it does not know the true position, but it can combine this difference between both solutions. If we now look at the case when we have a satellites anormally for the seven satellite, then we will see that the combined position will be very far away from the two position. But the position where we excluded the seven satellite will be near to the true position. But the test statistics, the difference between both solution will be pretty large in that case. Now ARAIM requires that for all failure modes and those their corresponding test statistics SH needs to be smaller than a certain threshold value and if that's the case, then the hypothesis H0 plus and then ARAIM flags outputs the use flag and the pilot or the flight management system is then informed that everything is fine and it can rely on the output positioning Solution. Overall, we have then again, very similar machinery as for the RAIM system is also for ARAIM. We have the receiver outputting the measurements to the ARAIM algorithm. We also again have the satellite positions, satellite clock errors and tropospheric and ionospheric delays.
Play video starting at :22:40 and follow transcript22:40
The new ingredient in this ARAIM algorithms that we are now able to inform the algorithm about the prior probabilities that a certain hypothesis occur. Accord is now p of the probability that the hypothesis h applies.
Play video starting at :23:10 and follow transcript23:10
This is basically a method to realize in this algorithms or to reflect the different reliability of the different GNSS systems or GPS would receive in a very high reliability, reflected as a low probability of a GPS failure mode and other GNSS systems may then have a higher probability for it's a failure modes. The output is again the same as for the RAIM algorithms. So we have to use strong tools flag,
Play video starting at :23:49 and follow transcript23:49
the estimated user position and also the corresponding protection levels.
Play video starting at :24: and follow transcript24:00
So with this, fourth chapter ends and it should now be clear what can be done to make our GNSS really reliable and safe, that it can be used for navigation. These few question here, sure they can help you to understand the content presented in this chapter.

# Current Performance and Way forward
In this final and fifth chapter I want now to show to you the performance which can be achieved by the RAIM and the ARAIM methodology. And I will also discuss some rule of thumbs how you can compute protection level. And also what impact is highly performant ARIM made on the future air navigation system. I will start now with the RAIM availability, which is a very important performance figure and every pilot has to consider maps like these before he starts a flight. This RAIM availability is expressed as an outage time when a certain protection level cannot be achieved by this algorithm. And in this case, we consider here a limit of 185 meters. So this graph then shows the time when the protection level which is let's say also a function of the number of visible satellites is above this threshold. And we see here indeed in the Asian region that here the protection level of 185 meters is not achieved for outage duration of longer than 70 minutes. If the pilot plans to do a flight in that region, he has time to ensure that he uses a time spent during the day when the satellite constellation is better and these are protection level can be achieved. But we have also to acknowledge that a limit of 185 meter is pretty large. And this also indicates that the insured positioning accuracy, which is relevant for aviation is by far larger than
Play video starting at :2:3 and follow transcript2:03
the one which we're used to in normal navigation application. So there is really a need for this area methodology which includes the additional genus systems and brings down then the protection level. And with this I come to the second performance figure which is the ARAIM horizontal protection level. So I'm not showing any more the outage time, but I show what protection levels can be achieved by two GNSS systems namely, GPS and Galileo. So I consider now here three cases of the use GNSS system. So I have in the upper row, I consider the usage of GPS alone. In the middle row we see the usage of the Galileo system alone. And in the lower row, we see the combined use of GPS and Galileo. Furthermore, we have different frequencies, two frequencies where there's a GNSS systems bought signals, we have the L1 frequency and the L5 frequency. On both frequency, basically the same information is transmitted, but if you combine both frequencies you can get rid of these ionospheric delay, which was already mentioned and this brings down the accuracy and also then the protection level. On the left column you see the case of using the L1 frequency alone and the middle column you see the case of the L5 frequency alone. And on the right column you see the case of a combined L1, L5 usage. So in the upper left for figures which are shown here as this yellow and the one white figure. We see that the protection level which can be achieved is similar to the RAIM methodology at the 200 meter level. But on the lower left figure when GPS is combined with Galileo, but still a single frequency is used, we already go down to the 100 meter level of assured accuracy expressed as a protection level.
Play video starting at :4:11 and follow transcript4:11
If we then combine both frequency and also combine both GNSS systems, then we are in the lower right graph, which is totally violet. And in this study which was conducted by a PhD researcher at our institute, we are far below the 40 meter protection level, horizontal protection level indicating a really big gain in performance and this gain in performance is then used for new flight procedures which maiden allow landing of aircraft or even starting to maneuver in the vicinity of urban environments.
Play video starting at :4:59 and follow transcript4:59
These protection level computations are quite complex and you need complex simulations tool to compute them. So I thought it might also be interesting to have some rule of thumbs to computers protection level and this rule of thumbs are based on the so-called user equivalent ranging error. This is a value which more or less describes this Epsilon factor of the previous chapter and includes then our satellite modeling errors, satellite clock modeling errors, atmospheric dalay errors and the measurement errors. These UE values are typically for a single frequency use at the 10 meter level. There are better GNSS systems and worst GNSS system. So there's a variation there. This is just a rule of thumb and for dual-frequency users, you have an UERE value of around 1 meter.
Play video starting at :5:53 and follow transcript5:53
And then the horizontal protection level is in the range of 10 to 20 multiplied by the UERE value and the vertical protection level is by a factor of two larger. Again, the more satellites you use, the lower the factor is and this brings then down the protection level and is also the main motivation why we want to use multiple GNSS systems to have a higher performance. I also want to note that the typically accuracy. Which you're used to when you do your normal positioning in a car navigation system or maybe with a smartphone is 50 times better than the protection level. So we really pay a price in accounting for this possible satellite failures and the small undetected failures drive our air project to the, and this undetected small satellite fares really increase our air budget and the cost for this very large protection levels. So with these classic pseudo range measurements, which I've discussed so far, we may go down to protection levels in the 10-meter case. If we use all the technology we have today. This is not sufficient for example to navigate the drone inside the city, but there's further research going on and we can for example use a different measurement technique which are called carrier phase measurements and positioning technical precise point positioning. And then the UERE value will go down to 10 centimeter resulting then in the protection level of 1 meter. And that's really a game-changer than for autonomous systems and this air mobility concept which gets then a very safe and reliable navigation method capable of handling an unlimited number of users.
Play video starting at :8: and follow transcript8:00
So with this I come now to the status and the outlook of the methodologies I presented so far. So RAIM is already certified for air navigation use and its really required for all GPS receivers on board civil aviation aircraft. Also to mention of navigation method fully relies on GPS and RAIM. The ARAIM method is still in a final development stage, and more or less in a research stage. There are a number of very difficult complex, physical, and mathematical problems which still are discussed. They mostly will reflect to the probability the satellites fails and also to some atmospheric effects. So there's currently no operational use but within the next years we hope that we will get there and then can use this ARAIM method.
Play video starting at :9:3 and follow transcript9:03
I also have to mention that there are other methods of GNSS uses which require however additional installations local or regional installations in order to make GNSS safe. Then also generic as the area method but are currently in use today. And these methods are the satellite-based or ground-based augmentation systems, but they're not discussed here in this lecture.
Play video starting at :9:27 and follow transcript9:27
And finally I want to mention that this area method is also a very good method to include also other navigation sensors, inertial sensors, magnetometers, odometry. And since this ARIAM methodology supports this multiple hypothesis, also other navigation sensors can be included. With this, I conclude with the digitization in air navigation and I hope I could have shown to you that the GNSS is really considered as one of the main technology for future air navigation. It has a high navigation potential and protection levels down to the 1 to 10 meters are possible. It's really a passive technology which can serve an unlimited number of users which is important for this air mobility concept and maybe also the only one concept and navigation concept which can be used for that purpose. It is however, very important to have a good understanding and quantification of all the failure modes of the GNSS satellites and the GNSS system in order to make this technology so safe that people can rely on it and that not any life is put into danger. And the ARIAM framework provides a very generic methodology that can also be applied for other applications. The definition of this technology and the use cases are now task for the discussions in the air traffic management community and those guys will then include this technology in future navigation procedures, which can then be used by the pilots. Again, I want to mention that since we rely heavily on the GNSS technology for this technique, we need some kind of a backup system which allow us at least to operate the system at reduced performance in case of a total failure of the GNSS satellite system. And with this I come now to the end of this fifth chapter in the lecture and I can present you some questions which you may find helpful to answer in order to ensure that you correctly understood the content of the question. And I also would like to invite you to have a look at the fifth questions and to a little bit speculate on which air traffic modes may be there in the future assuming that we have a really high performance and safe navigation system. You can also find the material associated with this lecture also the slides with clear drawings downloadable at this webpage, and I hope you enjoyed this lecture and I thank you for listening. [MUSIC]
